sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";var t=new sap.m.BusyDialog;var a=new sap.m.Text({text:"   Comments are mandatory!"});var r=new sap.m.Dialog({icon:"sap-icon://error",title:"Error",content:a,beginButton:new sap.m.Button({text:"OK",press:function(){r.close()}.bind(this)})});return{Approve:async function(a){debugger;t.open();var n=a.getModel();var s="getuser";let o=n.bindContext(`/${s}(...)`);var i=a.sPath.match(/'([^']+)'/)?.[1];i={key:i,status:"Approved",urll:window.location.href};i=JSON.stringify(i);o.setParameter("ID",i);await o.execute();let l=o.getBoundContext();let p=l.getObject();p=JSON.parse(p.value);if(p.status=="mandt"){t.close();r.open();return"errr"}var c=document.referrer;console.log(c);t.close();if(p.status=="er")alert("Sorry, we're experiencing technical difficulties. Please try again later.");else{sap.ui.getCore().byId("panapproval::PAN_Details_APRObjectPage--fe::FooterBar").setEnabled(false);sap.ui.getCore().byId("panapproval::PAN_Details_APRObjectPage--fe::FormContainer::ApprovalComments::FormElement::DataField::Comments::Field-edit").setEnabled(false)}var u=await sap.ushell.Container.getServiceAsync("Navigation");u.navigate({target:{semanticObject:"pan_approval",action:"display"}});if(p.status!="er"){e.show("PAN Form has been Approved.")}}}});